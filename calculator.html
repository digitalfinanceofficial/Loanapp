<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Personal Loan EMI Calculator — SmartCash Finance</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{ --ink:#0A2F33; --brand:#1f5d63; --accent:#ff6a00; }
    body{font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial}
    .nav-link{padding:.5rem 1rem;border-radius:9999px}
    .nav-active{background:#0A2F33;color:#fff !important}
    .teal-dots{
      background:
        radial-gradient(circle at 12px 12px, rgba(255,255,255,.08) 2px, transparent 2.6px) 0 0/24px 24px,
        var(--brand);
    }
    /* sliders */
    input[type="range"]{-webkit-appearance:none;height:6px;border-radius:9999px;background:#e5e7eb;width:100%}
    input[type="range"]::-webkit-slider-thumb{-webkit-appearance:none;height:18px;width:18px;border-radius:9999px;background:var(--accent);box-shadow:0 0 0 4px #fff}
    input[type="range"]::-moz-range-thumb{height:18px;width:18px;border:none;border-radius:9999px;background:var(--accent)}
    /* card */
    .card{box-shadow:0 20px 50px rgba(2,26,38,.08)}
    /* donut */
    .donut { transform: rotate(-90deg); transform-origin: 50% 50%; }
    .card-scroll{max-height:72vh;overflow:auto;scrollbar-width:thin}
    .card-scroll::-webkit-scrollbar{height:6px;width:6px}
    .card-scroll::-webkit-scrollbar-thumb{background:#c7ccd1;border-radius:9999px}
  </style>
</head>
<body class="bg-white text-gray-900">

  <!-- NAVBAR -->
  <header class="border-b bg-white sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
      <a href="index.html" class="flex items-center gap-3">
        <img src="assets/logo.png" alt="SmartCash Logo" class="w-14 h-14 rounded-lg">
        <div>
          <div class="text-2xl font-extrabold text-blue-700 leading-tight">SmartCash</div>
          <div class="text-[13px] tracking-widest text-blue-600 uppercase">Finance</div>
        </div>
      </a>

      <nav class="hidden md:flex items-center gap-2 text-sm">
        <a href="index.html" class="nav-link">Home</a>
        <a href="loan-products.html" class="nav-link">Products</a>
        <a href="about.html" class="nav-link">About Us</a>
        <a href="contact.html" class="nav-link">Contact</a>
        <a href="status.html" class="nav-link">Status Check</a>
      </nav>

      <button id="menuBtn" class="md:hidden p-2 rounded-lg border" aria-label="Open menu">
        <svg width="24" height="24" viewBox="0 0 24 24"><path d="M4 7h16M4 12h16M4 17h16" stroke="#111827" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
    </div>

    <div id="mobileMenu" class="hidden md:hidden border-t bg-white">
      <div class="max-w-7xl mx-auto px-4 py-3 grid gap-2 text-sm">
        <a class="py-2 border-b" href="index.html">Home</a>
        <a class="py-2 border-b" href="loan-products.html">Products</a>
        <a class="py-2 border-b" href="about.html">About Us</a>
        <a class="py-2 border-b" href="status.html">Status Check</a>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section class="teal-dots text-white">
    <div class="max-w-7xl mx-auto px-6 py-10 md:py-14">
      <h1 class="text-3xl md:text-5xl font-extrabold">Personal Loan EMI Calculator</h1>
      <p class="mt-3 text-white/90">Plan loan amount, rate and tenure to estimate your monthly EMI.</p>
    </div>
  </section>

  <!-- CALCULATOR -->
  <section class="max-w-7xl mx-auto px-4 md:px-6 py-8">
    <div class="card bg-white rounded-3xl p-5 md:p-8">
      <div class="grid lg:grid-cols-2 gap-10">
        <!-- LEFT: Summary -->
        <div class="space-y-6">
          <div>
            <p class="text-xl md:text-2xl font-semibold text-gray-800">Your monthly EMI is</p>
            <div class="mt-2 text-4xl md:text-5xl font-extrabold text-[#ff6a00]" id="emiBig">₹ —</div>
            <p class="text-sm text-gray-500 mt-2"><span id="rateTag">—</span> interest rate per annum</p>
          </div>

          <div class="grid grid-cols-2 gap-6">
            <div>
              <div class="text-sm text-gray-600">Total Interest</div>
              <div class="text-xl font-extrabold mt-1" id="totalInterest">₹ —</div>
            </div>
            <div>
              <div class="text-sm text-gray-600">Total Amount</div>
              <div class="text-xl font-extrabold mt-1" id="totalAmount">₹ —</div>
            </div>
          </div>

          <!-- Donut -->
          <div class="mx-auto w-56 h-56 relative">
            <svg viewBox="0 0 120 120" class="w-full h-full donut">
              <circle cx="60" cy="60" r="46" fill="none" stroke="#e5e7eb" stroke-width="16"/>
              <circle id="donutArc" cx="60" cy="60" r="46" fill="none" stroke="#0a7b67" stroke-width="16"
                      stroke-linecap="round" stroke-dasharray="0 999"/>
            </svg>
            <div class="absolute inset-0 grid place-items-center">
              <div class="text-center">
                <div class="text-xs uppercase tracking-wider text-gray-500">Principal</div>
                <div class="text-base font-semibold" id="principalText">₹ —</div>
                <div class="mt-2 text-xs uppercase tracking-wider text-gray-500">Interest</div>
                <div class="text-base font-semibold" id="interestText">₹ —</div>
              </div>
            </div>
          </div>

          <!-- Legend -->
          <div class="flex items-center gap-6 text-sm text-gray-700">
            <div class="flex items-center gap-2"><span class="inline-block w-3 h-3 rounded-full bg-[#0a7b67]"></span>Loan Amount</div>
            <div class="flex items-center gap-2"><span class="inline-block w-3 h-3 rounded-full bg-gray-300"></span>Total Interest</div>
          </div>
        </div>

        <!-- RIGHT: Controls -->
        <div class="space-y-8 card-scroll">
          <!-- Loan Amount -->
          <div>
            <div class="flex items-end justify-between gap-3">
              <label class="font-semibold text-gray-800">Loan Amount</label>
              <input id="amtInput" type="text" class="w-44 text-right border rounded-lg px-3 py-2"
                     value="500000" aria-label="Loan amount (₹)"/>
            </div>
            <div class="mt-4 cursor-pointer">
              <input id="amt" type="range" min="5000" max="6000000" step="5000" value="3615000">
            </div>
            <div class="flex justify-between text-xs text-gray-500 mt-1">
              <span>Min ₹5K</span><span>Max ₹60L</span>
            </div>
          </div>

          <!-- Interest -->
          <div>
            <div class="flex items-end justify-between gap-3">
              <label class="font-semibold text-gray-800">Rate of Interest</label>
              <input id="rateInput" type="number" class="w-24 text-right border rounded-lg px-3 py-2"
                     value="18" step="0.1" min="6" max="36" aria-label="Annual rate (%)"/>
            </div>
            <div class="mt-4 cursor-pointer">
              <input id="rate" type="range" min="6" max="36" step="0.1" value="18">
            </div>
            <div class="flex justify-between text-xs text-gray-500 mt-1">
              <span>Min 6%</span><span>Max 36%</span>
            </div>
          </div>

          <!-- Tenure -->
          <div>
            <div class="flex items-center gap-3">
              <label class="font-semibold text-gray-800">Loan Tenure</label>
            </div>
            <div class="mt-3 flex items-center gap-3">
              <input id="tenureNum" type="number" class="w-24 border rounded-lg px-3 py-2" value="12" min="3" max="72"/>
              <select id="tenureUnit" class="border rounded-lg px-3 py-2">
                <option value="month" selected>Month</option>
                <option value="year">Year</option>
              </select>
            </div>
            <div class="mt-4 cursor-pointer">
              <input id="tenure" type="range" min="3" max="72" step="1" value="12">
            </div>
            <div class="flex justify-between text-xs text-gray-500 mt-1">
              <span>Min 3 months</span><span>Max 72 months</span>
            </div>
          </div>

          <div class="pt-2 flex items-center gap-3">
            <a href="apply.html" class="inline-flex justify-center items-center px-6 py-3 rounded-xl font-semibold text-white bg-[#0A2F33] hover:bg-[#062327] active:scale-[.98]">Apply Now</a>
            <button id="resetBtn" class="px-5 py-3 rounded-xl border font-semibold">Reset</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="bg-[#0b3a3f] text-gray-200">
    <div class="text-[12px] text-gray-300/90 border-b border-white/10">
      <div class="max-w-7xl mx-auto px-6 py-3 text-center md:text-left leading-relaxed">
        Starting interest rate varies by profile; loans subject to KYC & income verification. T&C apply.
        Example: ₹1,00,000 @ 18% p.a. for 24 months → EMI ≈ ₹4,992. Actual APR & charges depend on profile.
      </div>
    </div>

    <div class="max-w-7xl mx-auto px-6 py-10 grid gap-10 md:grid-cols-3">
      <div>
        <h3 class="text-xl font-semibold mb-4">Quick Links</h3>
        <ul class="space-y-3 text-[15px]">
          <li><a class="hover:text-white/90 transition" href="index.html">Home</a></li>
          <li><a class="hover:text-white/90 transition" href="apply.html">Apply Now</a></li>
          <li><a class="hover:text-white/90 transition" href="about.html">About Us</a></li>
          <li><a class="hover:text-white/90 transition" href="contact.html">Contact Us</a></li>
          <li><a class="hover:text-white/90 transition" href="calculator.html">Loan EMI Calculator</a></li>
          <li><a class="hover:text-white/90 transition" href="fees.html">Fees & Charges</a></li>
        </ul>
      </div>
      <div>
        <h3 class="text-xl font-semibold mb-4">Other Links</h3>
        <ul class="space-y-3 text-[15px]">
          <li><a class="hover:text-white/90 transition" href="faq.html">FAQ</a></li>
          <li><a class="hover:text-white/90 transition" href="documents.html">Documents Required</a></li>
          <li><a class="hover:text-white/90 transition" href="privacy.html">Privacy Policy</a></li>
          <li><a class="hover:text-white/90 transition" href="terms.html">Terms & Conditions</a></li>
          <li><a class="hover:text-white/90 transition" href="terms-of-use.html">Terms of Use</a></li>
          <li><a class="hover:text-white/90 transition" href="refund.html">Refund Policy</a></li>
        </ul>
      </div>
      <div>
        <h3 class="text-xl font-semibold mb-4">Support</h3>
        <div class="space-y-2 text=[15px]">
          <p><a class="hover:text-white/90 transition" href="mailto:support@smartcashfinance.in">support@smartcashfinance.in</a></p>
          <p>573, 3rd Floor, Main Road, Chirag, New Delhi — 110017</p>
          <p>Mon–Sat: 10:00 AM – 6:00 PM</p>
        </div>
      </div>
    </div>

    <div class="bg-[#082e31] border-t border-white/10">
      <div class="max-w-7xl mx-auto px-6 py-4 flex flex-col md:flex-row items-center justify-between gap-3 text-[12.5px] text-gray-300">
        <div>© <span id="yr"></span> SmartCash Finance. All rights reserved.</div>
        <div class="flex gap-4">
          <a class="hover:text-white/90" href="privacy.html">Privacy</a>
          <span class="opacity-40">|</span>
          <a class="hover:text-white/90" href="terms.html">Terms</a>
          <span class="opacity-40">|</span>
          <a class="hover:text-white/90" href="status.html">Status Check</a>
        </div>
      </div>
    </div>
  </footer>

<script>
  // year / mobile menu / nav active
  document.getElementById('yr').textContent = new Date().getFullYear();
  document.getElementById('menuBtn')?.addEventListener('click',()=>document.getElementById('mobileMenu').classList.toggle('hidden'));
  const path=(location.pathname.split('/').pop()||'calculator.html');
  document.querySelectorAll('nav a.nav-link').forEach(a=>{ if(a.getAttribute('href')===path) a.classList.add('nav-active'); });

  // ---------- Elements ----------
  const nf = new Intl.NumberFormat('en-IN',{maximumFractionDigits:0});
  const currency = v => '₹ ' + nf.format(Math.round(v));

  const amt = document.getElementById('amt');
  const amtInput = document.getElementById('amtInput');
  const rate = document.getElementById('rate');
  const rateInput = document.getElementById('rateInput');
  const tenure = document.getElementById('tenure');
  const tenureNum = document.getElementById('tenureNum');
  const tenureUnit = document.getElementById('tenureUnit');

  const emiBig = document.getElementById('emiBig');
  const totalAmount = document.getElementById('totalAmount');
  const totalInterest = document.getElementById('totalInterest');
  const rateTag = document.getElementById('rateTag');

  const principalText = document.getElementById('principalText');
  const interestText = document.getElementById('interestText');
  const donutArc = document.getElementById('donutArc');

  // ---------- Helpers ----------
  function sanitizeAmount(str){ return String(str).replace(/[^\d]/g,''); }

  function setSliderFromEvent(slider, clientX){
    const rect = slider.getBoundingClientRect();
    const x = Math.min(Math.max(clientX - rect.left, 0), rect.width);
    const p = x / rect.width;
    const min = +slider.min, max = +slider.max, step = +slider.step || 1;
    const raw = min + (max - min) * p;
    const snapped = Math.round(raw / step) * step;
    slider.value = Math.min(max, Math.max(min, snapped));
    slider.dispatchEvent(new Event('input', {bubbles:true}));
  }

  document.querySelectorAll('input[type="range"]').forEach(slider=>{
    slider.addEventListener('mousedown', e => setSliderFromEvent(slider, e.clientX));
    slider.addEventListener('click',    e => setSliderFromEvent(slider, e.clientX));
    slider.addEventListener('touchstart', e => { if(e.touches?.length){ setSliderFromEvent(slider, e.touches[0].clientX); } }, {passive:true});
  });

  // ---------- Sync + Calc ----------
  function syncInputs(){
    const raw = sanitizeAmount(amtInput.value || amt.value);
    const clamp = Math.min(Math.max(+raw||0, +amt.min), +amt.max);
    amt.value = clamp;
    amtInput.value = nf.format(clamp);
    rate.value = rateInput.value;

    // tenure: keep number and range synced in months
    let months = tenureUnit.value === 'year' ? (+tenureNum.value || 0) * 12 : (+tenureNum.value || 0);
    months = Math.min(Math.max(months, +tenure.min), +tenure.max);
    tenure.value = months;
    tenureNum.value = tenureUnit.value === 'year' ? Math.round(months/12) : months;
  }

  function calc(){
    syncInputs();

    const P = +amt.value;
    const annual = parseFloat(rate.value);
    const n = +tenure.value; // months
    const r = annual/12/100;
    if(P<=0||annual<=0||n<=0){return}

    const pow = Math.pow(1+r, n);
    const emi = P * r * pow / (pow - 1);
    const total = emi * n;
    const interest = total - P;

    emiBig.textContent = currency(emi);
    totalAmount.textContent = currency(total);
    totalInterest.textContent = currency(interest);
    rateTag.textContent = annual.toFixed(2)+'%';

    principalText.textContent = currency(P);
    interestText.textContent  = currency(interest);

    // Donut: arc percent for principal vs interest
    const circleLen = 2 * Math.PI * 46;
    const pPct = P / total;                      // share of principal
    const dash = Math.max(0, Math.min(circleLen, circleLen * pPct));
    donutArc.setAttribute('stroke-dasharray', `${dash} ${circleLen-dash}`);
  }

  // ---------- Listeners ----------
  [amt, rate, tenure].forEach(el=>el.addEventListener('input', calc));
  amtInput.addEventListener('input', calc);
  amtInput.addEventListener('blur', ()=>{ amtInput.value = nf.format(+sanitizeAmount(amtInput.value)||0); });
  rateInput.addEventListener('input', calc);

  tenureNum.addEventListener('input', calc);
  tenureUnit.addEventListener('change', calc);
  tenure.addEventListener('input', ()=>{
    // when slider moves, mirror to number depending on unit
    const m = +tenure.value;
    tenureNum.value = tenureUnit.value === 'year' ? Math.round(m/12) : m;
    calc();
  });

  document.getElementById('resetBtn').addEventListener('click', ()=>{
    amt.value = 3615000; amtInput.value = nf.format(3615000);
    rate.value = 18; rateInput.value = 18;
    tenure.value = 12; tenureNum.value = 12; tenureUnit.value = 'month';
    calc();
  });

  // init defaults (like screenshot)
  amt.value = 3615000; amtInput.value = nf.format(3615000);
  rate.value = 18; rateInput.value = 18;
  tenure.value = 12; tenureNum.value = 12; tenureUnit.value = 'month';
  calc();
</script>
</body>
</html>